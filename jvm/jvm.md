## 前置知识：

java方法和本地方法的区别：java方法是由由java语言编写，编译成字节码，存储在class文件中的。java方法是与平台无关的。本地方法是由其他语言（如C、C++ 或其他汇编语言）编写，编译成和处理器相关的代码。本地方法保存在动态连接库中，格式是各个平台专用的，运行中的java程序调用本地方法时，虚拟机装载包含这个本地方法的动态库，并调用这个方法。

## jvm的几个部分

1.类加载器：在jvm启动时或类运行时将class文件加载到jvm中

2.执行引擎：执行class中的字节码指令。jvm中的cpu

3.将内存划分为若干个运行时数据区以模拟实际机器上的存储，记录和调用功能模块，如物理机寄存器和指针记录器等

4.本地方法调用：调用c c++实现的本地方法的代码返回结果

## 运行时数据区

1.程序计数器：
  - 当前线程所执行的字节码的行号指示器，控制字节码执行流程
  - 每个线程计数器独立，线程私有(jvm虚拟机的多线程靠轮流执行来实现，并不是真正的多个线程同时执行)
  - 如果一个线程执行的是本地方法，那么计数器指针会为空。
  - 该区域不会包OutOfMemoryError错误

2.虚拟机栈：
  - 线程私有的java方法(注意是方法，方法，方法)线程内存模型的描述，生命周期和所属线程相同
  - 流程如下：每个方法执行的时候栈内会创建一个栈帧，存储方法内的所有信息(局部变量啥的)，方法调用完毕后出栈
  
